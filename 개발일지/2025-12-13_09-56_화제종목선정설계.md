# 개발일지

## 📅 작성 시각
2025년 12월 13일 09:56

## 🎯 해결하고자 한 문제
- [x] 문제 1: 미국 주식 “오늘의 화제 종목”을 가져오는 방법(데이터 소스/선정 로직) 설계
- [x] 문제 2: 데이터 소스 장단점 비교 및 권장 소스 선정 근거 정리
- [x] 문제 3: `yahooquery` Screener 사용 코드 예시, TOP1 선정 로직, 엣지 케이스 처리 정의

## ✅ 해결된 것

### 문제 1: 화제 종목 선정 설계
- **해결 방법**: Yahoo Finance 스크리너(거래량/상승/하락) 기반 후보군을 만들고, 점수화 + 타이브레이크로 TOP1을 결정하는 방식으로 정의
- **관련 파일**: `설계/오늘의_화제종목_가져오기_설계.md`

### 문제 2: 데이터 소스 비교 및 권장안 도출
- **해결 방법**: 시장 데이터 기반(yahooquery)을 1차(필수)로, WSB 소셜 데이터(ApeWisdom/SwaggyStocks)는 2차(참고 지표)로 위치시켜 안정성/노이즈/정책 리스크 관점에서 근거 정리
- **관련 파일**: `설계/오늘의_화제종목_가져오기_설계.md`

### 문제 3: 코드 예시 및 엣지 케이스 정의
- **해결 방법**:
  - `Screener().get_screeners()`로 `most_actives/day_gainers/day_losers`를 수집하는 최소 코드 제시
  - 데이터 없음/키 누락/중복/휴장/종목 조회 실패 등에 대한 폴백/재시도/캐시/롤백 방침 정의
- **관련 파일**: `설계/오늘의_화제종목_가져오기_설계.md`

## ❌ 해결되지 않은 것

### (선택) WSB 데이터의 안정적 연동 방식 확정
- **이유**: ApeWisdom/SwaggyStocks는 제공 정책/형태가 변할 수 있어, MVP에서 “선정 지표”가 아닌 “참고 코멘트”로만 두는 것이 안전하다고 판단
- **시도한 접근 방법**: 소셜 데이터의 장단점만 비교하고, 2차 지표로 점진 도입하는 방향으로 정리

## 📝 향후 개발을 위한 컨텍스트

### 현재 상태
- “오늘의 화제 종목” TOP1 선정의 **데이터 소스/점수화/타이브레이크/엣지 케이스**가 문서로 확정됨

### 다음 단계
- 실제 런타임에서 `yahooquery` 응답 필드(예: `regularMarketVolume`, `regularMarketChangePercent`, `quoteType`)의 결측/타입을 확인하고 점수화에 반영
- 미국 휴장 캘린더(NYSE) 연동 또는 최소한의 휴장 판단 로직 추가
- 전일 캐시(최근 거래일 결과) 및 선정 근거 메타데이터 저장(재현/디버깅 목적)

### 참고 사항
- Yahoo Finance 기반 데이터는 비공식 성격이므로 **응답 스키마 방어/재시도/폴백/캐시**가 필수
- “화제 종목” 정의는 운영 중 KPI(오픈율/클릭/공유)로 가중치 튜닝 대상


